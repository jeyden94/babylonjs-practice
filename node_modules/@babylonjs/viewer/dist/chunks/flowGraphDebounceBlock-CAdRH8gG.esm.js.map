{"version":3,"file":"flowGraphDebounceBlock-CAdRH8gG.esm.js","sources":["../../../../../dev/core/dist/FlowGraph/Blocks/Execution/ControlFlow/flowGraphDebounceBlock.js"],"sourcesContent":["import { RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"core/FlowGraph/flowGraphExecutionBlockWithOutSignal\";\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\n/**\n * This block debounces the execution of a input, i.e. ensures that the input is only executed once every X times\n */\nexport class FlowGraphDebounceBlock extends FlowGraphExecutionBlockWithOutSignal {\n    constructor(config) {\n        super(config);\n        this.count = this.registerDataInput(\"count\", RichTypeNumber);\n        this.reset = this._registerSignalInput(\"reset\");\n        this.currentCount = this.registerDataOutput(\"currentCount\", RichTypeNumber);\n    }\n    _execute(context, callingSignal) {\n        if (callingSignal === this.reset) {\n            context._setExecutionVariable(this, \"debounceCount\", 0);\n            return;\n        }\n        const count = this.count.getValue(context);\n        const currentCount = context._getExecutionVariable(this, \"debounceCount\", 0);\n        const newCount = currentCount + 1;\n        this.currentCount.setValue(newCount, context);\n        context._setExecutionVariable(this, \"debounceCount\", newCount);\n        if (newCount >= count) {\n            this.out._activateSignal(context);\n            context._setExecutionVariable(this, \"debounceCount\", 0);\n        }\n    }\n    /**\n     * @returns class name of the block.\n     */\n    getClassName() {\n        return \"FlowGraphDebounceBlock\" /* FlowGraphBlockNames.Debounce */;\n    }\n}\nRegisterClass(\"FlowGraphDebounceBlock\" /* FlowGraphBlockNames.Debounce */, FlowGraphDebounceBlock);\n//# sourceMappingURL=flowGraphDebounceBlock.js.map"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACO,MAAM,sBAAsB,SAAS,oCAAoC,CAAC;AACjF,IAAI,WAAW,CAAC,MAAM,EAAE;AACxB,QAAQ,KAAK,CAAC,MAAM,CAAC;AACrB,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,cAAc,CAAC;AACpE,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC;AACvD,QAAQ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,cAAc,CAAC;AACnF;AACA,IAAI,QAAQ,CAAC,OAAO,EAAE,aAAa,EAAE;AACrC,QAAQ,IAAI,aAAa,KAAK,IAAI,CAAC,KAAK,EAAE;AAC1C,YAAY,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;AACnE,YAAY;AACZ;AACA,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC;AAClD,QAAQ,MAAM,YAAY,GAAG,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;AACpF,QAAQ,MAAM,QAAQ,GAAG,YAAY,GAAG,CAAC;AACzC,QAAQ,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC;AACrD,QAAQ,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,QAAQ,CAAC;AACtE,QAAQ,IAAI,QAAQ,IAAI,KAAK,EAAE;AAC/B,YAAY,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC;AAC7C,YAAY,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC;AACnE;AACA;AACA;AACA;AACA;AACA,IAAI,YAAY,GAAG;AACnB,QAAQ,OAAO,wBAAwB;AACvC;AACA;AACA,aAAa,CAAC,wBAAwB,qCAAqC,sBAAsB,CAAC;;;;"}