import{ay as e}from"./index-1dDxZ_0d.esm.min.js";import{DDSTools as i}from"./dds-Bv1UI_c2.esm.min.js";import"./abstractEngine.cubeTexture-BDswypRo.esm.min.js";class t{constructor(){this.supportCascades=!0}loadCubeData(t,a,s,n){const p=a.getEngine();let o,m=!1,r=1e3;if(Array.isArray(t))for(let e=0;e<t.length;e++){const s=t[e];o=i.GetDDSInfo(s),a.width=o.width,a.height=o.height,m=(o.isRGB||o.isLuminance||o.mipmapCount>1)&&a.generateMipMaps,p._unpackFlipY(o.isCompressed),i.UploadDDSLevels(p,a,s,o,m,6,-1,e),o.isFourCC||1!==o.mipmapCount?r=o.mipmapCount-1:p.generateMipMapsForCubemap(a)}else{const n=t;o=i.GetDDSInfo(n),a.width=o.width,a.height=o.height,s&&(o.sphericalPolynomial=new e),m=(o.isRGB||o.isLuminance||o.mipmapCount>1)&&a.generateMipMaps,p._unpackFlipY(o.isCompressed),i.UploadDDSLevels(p,a,n,o,m,6),o.isFourCC||1!==o.mipmapCount?r=o.mipmapCount-1:p.generateMipMapsForCubemap(a,!1)}p._setCubeMapTextureParams(a,m,r),a.isReady=!0,a.onLoadedObservable.notifyObservers(a),a.onLoadedObservable.clear(),n&&n({isDDS:!0,width:a.width,info:o,data:t,texture:a})}loadData(e,t,a){const s=i.GetDDSInfo(e),n=(s.isRGB||s.isLuminance||s.mipmapCount>1)&&t.generateMipMaps&&Math.max(s.width,s.height)>>s.mipmapCount-1==1;a(s.width,s.height,n,s.isFourCC,(()=>{i.UploadDDSLevels(t.getEngine(),t,e,s,n,1)}))}}export{t as _DDSTextureLoader};
//# sourceMappingURL=ddsTextureLoader-DBKtwmYJ.esm.min.js.map
