import{GLTFLoader as e}from"./glTFLoader-wHGixHtC.esm.min.js";import{aV as r,bL as s,bK as a}from"./index-1dDxZ_0d.esm.min.js";import"./bone-rpjVhoW9.esm.min.js";import"./skeleton-BuLyjIk1.esm.min.js";import"./rawTexture-DNIIHHuO.esm.min.js";import"./assetContainer-Dam1dL5M.esm.min.js";import"./objectModelMapping-DtrR_R-D.esm.min.js";const o="KHR_materials_specular";class t{constructor(e){this.name=o,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(r,s,a){return e.LoadExtensionAsync(r,s,this.name,(async(e,o)=>{const t=new Array;t.push(this._loader.loadMaterialPropertiesAsync(r,s,a)),t.push(this._loadSpecularPropertiesAsync(e,o,a));const l=this._loader._getOrCreateMaterialAdapter(a);if(o.extensions&&o.extensions.EXT_materials_specular_edge_color){o.extensions.EXT_materials_specular_edge_color.specularEdgeColorEnabled&&l.enableSpecularEdgeColor(!0)}return await Promise.all(t).then((()=>{}))}))}_loadSpecularPropertiesAsync(e,s,a){const o=this._loader._getOrCreateMaterialAdapter(a),t=new Array;return o.specularWeight=s.specularFactor??1,o.specularColor=void 0!==s.specularColorFactor?r.FromArray(s.specularColorFactor):new r(1,1,1),s.specularTexture&&(s.specularTexture.nonColorData=!0,t.push(this._loader.loadTextureInfoAsync(`${e}/specularTexture`,s.specularTexture,(e=>{e.name=`${a.name} (Specular)`,o.specularWeightTexture=e})))),s.specularColorTexture&&t.push(this._loader.loadTextureInfoAsync(`${e}/specularColorTexture`,s.specularColorTexture,(e=>{e.name=`${a.name} (Specular Color)`,o.specularColorTexture=e}))),Promise.all(t).then((()=>{}))}}s(o),a(o,!0,(e=>new t(e)));export{t as KHR_materials_specular};
//# sourceMappingURL=KHR_materials_specular-DxzFW5K9.esm.min.js.map
